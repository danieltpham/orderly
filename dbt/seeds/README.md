# Seeds - Canonical Reference Data

This directory contains CSV files that will be loaded as seed data into the DuckDB database.

Seeds are typically used for:
- Reference data (e.g., country codes, status mappings)
- Small lookup tables
- Test data for development
- **Canonical master data** for fuzzy matching operations

## Usage

To load seeds:
```bash
dbt seed
```

To load specific seeds:
```bash
dbt seed --select seed_name
```

To rebuild seeds (drop and recreate):
```bash
dbt seed --full-refresh
```

## Canonical Reference Files

### `canonical_brands.csv`
- **Purpose**: Master brand reference for fuzzy matching and standardization
- **Source**: Generated from clean line items in data generation process
- **Key Fields**: `brand_id`, `canonical_brand_name`, `brand_aliases`
- **Usage**: Used by silver layer to standardize messy brand inputs

### `canonical_sku_catalog.csv`  
- **Purpose**: Master product catalog for product matching and categorization
- **Source**: Generated from clean line items in data generation process
- **Key Fields**: `sku_id`, `canonical_description`, `canonical_brand`, `category`
- **Usage**: Used by silver layer for fuzzy product description matching

## Data Lineage

These canonical files are generated by:
1. `data_generation/1_generate_data_lake.py` extracts clean entries from simulated data
2. Only entries with `data_quality_flag = "clean"` are used to build canonical references
3. Files are automatically sorted by ID for consistent processing
4. Data is version-controlled through dbt seeds for reproducibility

## Referential Integrity

- `canonical_sku_catalog.canonical_brand` references `canonical_brands.canonical_brand_name`
- Both tables include `is_active` flags for soft deletes
- All records include audit timestamps (`created_date`, `updated_date`)